{% extends "base.html" %}

{% block title %}Verify Work - Copyright Registry{% endblock %}

{% block content %}
<h2>üîç Verify Work Registration</h2>
<p style="margin-bottom: 20px;">Enter a Work ID to view registration details and verify authenticity.</p>

<!-- Tambahkan field Content Hash di form verify -->
<form method="POST" enctype="multipart/form-data">
  <div class="form-group">
    <label for="work_id">Work ID</label>
    <input type="text" id="work_id" name="work_id" placeholder="e.g., WORK-12345678">
  </div>

  <div class="form-group">
    <label for="file">Or Upload File to verify</label>
    <input type="file" id="file" name="file">
  </div>

  <div class="form-group">
    <label for="content_hash">Or Paste Content Hash (SHA-256)</label>
    <input type="text" id="content_hash" name="content_hash"
           placeholder="e.g., 24466bbc756be2472263d11320757e475547cb75fa93b1309bc5b89248433462 or 0x...">
    <small style="color:#666;">Paste full 64-hex characters. With or without 0x is ok.</small>
  </div>

  <button type="submit" class="btn">Verify</button>
</form>

{% if work_details %}
<div class="work-card" style="margin-top: 30px;">
    <h3>‚úÖ Registration Confirmed</h3>
    <p><strong>Work ID:</strong> {{ work_details.work_id }}</p>
    <p><strong>Title:</strong> {{ work_details.title }}</p>
    <p><strong>Type:</strong> {{ work_details.type }}</p>
    <p><strong>Creator:</strong> <span class="hash">{{ work_details.creator }}</span></p>
    <p><strong>Registered:</strong> {{ work_details.timestamp }}</p>
    {% if work_details.metadata %}
    <p><strong>Additional Info:</strong> {{ work_details.metadata }}</p>
    {% endif %}
    <p><strong>Content Hash:</strong></p>
    <p class="hash">{{ work_details.content_hash }}</p>
</div>
{% endif %}
{% endblock %}